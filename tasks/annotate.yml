---
# yamllint disable rule:line-length
###############################################################################
# Annotate User Configuration
###############################################################################
# Sanitize (standardize with default values if not set) Postgres configuration.
#
# Postgres will refuse to start with any invalid configuration option, even for
# options that are deprecated (using a new template for an older version) or
# options that don't exist yet (using a current template for a new release).
#
# Process dictionary and cast variables, specifically handling formatting for
# any know variables that are needed directly in render template. Otherwise,
# minimal sanity checking is done.
#
# Decision: TIME and SIZE type are multi-type. Certain TIME/SIZE variables are
#     documented as string only, string or (int/bool); however these are
#     treated the same.
#
# Use r_pufky.data.v3 data annotations to enforce consistency and validation
# checks.
#
# Generates:
#   _postgres: dict - Role runtime specific config.
#   _postgres_map: list of dict - Annotated config map.
#   _postgres_order: list of str - Config section order.
#
# Reference:
# * https://www.postgresql.org/docs/current/config-setting.html#CONFIG-SETTING-NAMES-VALUES
# yamllint enable rule:line-length

- name: 'Annotate | normalize base paths'
  ansible.builtin.set_fact:
    _postgres: {
      etc: '{{ "/etc/postgresql/" ~ postgres_srv_version }}',
      usr: '{{ "/usr/lib/postgresql/" ~ postgres_srv_version }}',
      var_run: '{{ "/var/run/postgresql/" ~ postgres_srv_version }}',
      var_lib: '{{ "/var/lib/postgresql/" ~ postgres_srv_version }}'
    }

- name: 'Annotate | normalize application paths'
  ansible.builtin.set_fact:
    _postgres: '{{
        _postgres | combine({
            "scripts": _postgres.etc ~ "/scripts",
            "pg_hba": _postgres.etc ~ "/main/pg_hba.conf",
            "pg_ident": _postgres.etc ~ "/main/pg_ident.conf",
            "pid": _postgres.var_run ~ "-main.pid",
            "bin": _postgres.usr ~ "/bin",
            "initdb": _postgres.usr ~ "/bin/initdb",
            "confd": _postgres.etc ~ "/main/conf.d",
            "environment": _postgres.etc ~ "/main/environment",
            "postgresql": _postgres.etc ~ "/main/postgresql.conf",
            "pg_ctl": _postgres.etc ~ "/main/pg_ctl.conf",
            "start": _postgres.etc ~ "/main/start.conf",
            "data": _postgres.var_lib ~ "/main",
        })
      }}'

- name: 'Annotate | sanitize & annotate service defaults'
  ansible.builtin.set_fact:  # noqa jinja[spacing] readability.
    _postgres_srv_version: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_version,
        default='17',
        hint='str',
        order=1
        )
      }}"
    _postgres_srv_confd_path: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_confd_path,
        default='',
        _src=postgres_srv_confd_path | regex_replace('\\/$', '') ~ '/',
        _dest=_postgres.confd,
        _perms='0640',
        hint='str',
        order=2
        )
      }}"
    _postgres_srv_profile_path: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_profile_path,
        default='',
        _src=postgres_srv_profile_path | regex_replace('\\/$', ''),
        _dest='/etc/profile.d/postgres',
        _perms='0644',
        hint='str',
        order=3
        )
      }}"
    _postgres_srv_startup: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_startup,
        default='auto',
        _dest=_postgres.start,
        _perms='0644',
        hint='str',
        order=4
        )
      }}"
    _postgres_srv_purge_enable: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_purge_enable,
        default=true,
        _question=(
          'postgresql-' ~
          postgres_srv_purge_enable | lower ~
          '/postrm_purge_data'
        ),
        _value=postgres_srv_purge_enable | lower,
        hint='bool',
        order=5
        )
      }}"
    _postgres_srv_auto_upgrade_enable: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_auto_upgrade_enable,
        default=false,
        _question='postgresql/auto_upgrade',
        _value=postgres_srv_auto_upgrade_enable | lower,
        hint='bool',
        order=6
        )
      }}"
    _postgres_srv_user: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_user,
        default='postgres',
        _uid='',
        hint='str',
        order=7
        )
      }}"
    _postgres_srv_group: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_group,
        default='postgres',
        _gid='',
        hint='str',
        order=8
        )
      }}"
    _postgres_srv_create_user: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_create_user,
        default=true,
        hint='bool',
        order=9
        )
      }}"
    _postgres_srv_user_data_manage_enable: "{{ {} | r_pufky.data.v3(
        raw=postgres_srv_user_data_manage_enable,
        default=false,
        hint='bool',
        order=10
        )
      }}"
    _postgres_srv_user_connection: "{{ {} | r_pufky.data.v3(
        raw={},
        default={},
        hint='dict',
        comment='Dict connection options.',
        order=11
        )
      }}"

- name: 'Annotate | sanitize & annotate config defaults'
  ansible.builtin.set_fact:  # noqa jinja[spacing] readability.
    _postgres_cfg_data_directory: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='data_directory',
        raw=postgres_cfg_data_directory,
        default=_postgres.data,
        _initdb=_postgres.initdb,
        _bin=_postgres.bin,
        _pg_version_dir=(
          postgres_cfg_data_directory |
          regex_replace('\\/$', '') ~ '/PG_VERSION'
        ),
        _perms='0700',
        hint='str',
        order=1
        )
      }}"
    _postgres_cfg_hba_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='hba_file',
        raw=postgres_cfg_hba_file,
        default=_postgres.pg_hba,
        _hba_dir=postgres_cfg_hba_file | dirname,
        _hba_dir_perms='0755',
        _perms='0640',
        hint='str',
        order=2
        )
      }}"
    _postgres_cfg_ident_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ident_file',
        raw=postgres_cfg_ident_file,
        default=_postgres.pg_ident,
        _ident_dir=postgres_cfg_ident_file | dirname,
        _ident_dir_perms='0755',
        _perms='0640',
        hint='str',
        order=3
        )
      }}"
    _postgres_cfg_external_pid_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='external_pid_file',
        raw=postgres_cfg_external_pid_file,
        default=_postgres.pid,
        _pid_dir=postgres_cfg_external_pid_file | dirname,
        _perms='2775',
        hint='str',
        order=4
        )
      }}"
    _postgres_cfg_listen_addresses: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='listen_addresses',
        raw=postgres_cfg_listen_addresses,
        data=postgres_cfg_listen_addresses | join(','),
        default=['localhost'],
        hint='list of str',
        order=5
        )
      }}"
    _postgres_cfg_port: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='port',
        raw=postgres_cfg_port,
        default=5432,
        hint='int',
        order=6
        )
      }}"
    _postgres_cfg_max_connections: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_connections',
        raw=postgres_cfg_max_connections,
        default=100,
        hint='int',
        order=7
        )
      }}"
    _postgres_cfg_reserved_connections: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='reserved_connections',
        raw=postgres_cfg_reserved_connections,
        default=0,
        hint='int',
        order=8
        )
      }}"
    _postgres_cfg_superuser_reserved_connections: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='superuser_reserved_connections',
        raw=postgres_cfg_superuser_reserved_connections,
        default=3,
        hint='int',
        order=9
        )
      }}"
    _postgres_cfg_unix_socket_directories: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='unix_socket_directories',
        raw=postgres_cfg_unix_socket_directories,
        data=postgres_cfg_unix_socket_directories | join(','),
        default=['/var/run/postgresql'],
        hint='list of str',
        order=10
        )
      }}"
    _postgres_cfg_unix_socket_group: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='unix_socket_group',
        raw=postgres_cfg_unix_socket_group,
        default='',
        hint='str',
        order=11
        )
      }}"
    _postgres_cfg_unix_socket_permissions: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='unix_socket_permissions',
        raw=postgres_cfg_unix_socket_permissions,
        default='0777',
        hint='str',
        order=12
        )
      }}"
    _postgres_cfg_bonjour: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bonjour',
        raw=postgres_cfg_bonjour,
        default=false,
        hint='bool',
        order=13
        )
      }}"
    _postgres_cfg_bonjour_name: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bonjour_name',
        raw=postgres_cfg_bonjour_name,
        default='',
        hint='str',
        order=14
        )
      }}"
    _postgres_cfg_tcp_keepalives_idle: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='tcp_keepalives_idle',
        raw=postgres_cfg_tcp_keepalives_idle,
        default=0,
        hint='int',
        order=15
        )
      }}"
    _postgres_cfg_tcp_keepalives_interval: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='tcp_keepalives_interval',
        raw=postgres_cfg_tcp_keepalives_interval,
        default=0,
        hint='int',
        order=16
        )
      }}"
    _postgres_cfg_tcp_keepalives_count: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='tcp_keepalives_count',
        raw=postgres_cfg_tcp_keepalives_count,
        default=0,
        hint='int',
        order=17
        )
      }}"
    _postgres_cfg_tcp_user_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='tcp_user_timeout',
        raw=postgres_cfg_tcp_user_timeout,
        default=0,
        hint='int',
        order=18
        )
      }}"
    _postgres_cfg_client_connection_check_interval: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='client_connection_check_interval',
        raw=postgres_cfg_client_connection_check_interval,
        default=0,
        hint='int',
        order=19
        )
      }}"
    _postgres_cfg_authentication_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='authentication_timeout',
        raw=postgres_cfg_authentication_timeout,
        default='1min',
        hint='str or int',
        order=20
        )
      }}"
    _postgres_cfg_password_encryption: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='password_encryption',
        raw=postgres_cfg_password_encryption,
        default='scram-sha-256',
        hint='str',
        order=21
        )
      }}"
    _postgres_cfg_scram_iterations: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='scram_iterations',
        raw=postgres_cfg_scram_iterations,
        default=4096,
        hint='int',
        order=22
        )
      }}"
    _postgres_cfg_krb_server_keyfile: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='krb_server_keyfile',
        raw=postgres_cfg_krb_server_keyfile,
        default='FILE:${sysconfdir}/krb5.keytab',
        hint='str',
        sensitive=true,
        order=23
        )
      }}"
    _postgres_cfg_krb_caseins_users: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='krb_caseins_users',
        raw=postgres_cfg_krb_caseins_users,
        default=false,
        hint='bool',
        order=24
        )
      }}"
    _postgres_cfg_gss_accept_delegation: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='gss_accept_delegation',
        raw=postgres_cfg_gss_accept_delegation,
        default=false,
        hint='bool',
        order=25
        )
      }}"
    _postgres_cfg_ssl: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl',
        raw=postgres_cfg_ssl,
        default=true,
        hint='bool',
        order=26
        )
      }}"
    _postgres_cfg_ssl_ca_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_ca_file',
        raw=postgres_cfg_ssl_ca_file,
        default='',
        hint='str',
        sensitive=true,
        order=27
        )
      }}"
    _postgres_cfg_ssl_cert_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_cert_file',
        raw=postgres_cfg_ssl_cert_file,
        default='/etc/ssl/certs/ssl-cert-snakeoil.pem',
        hint='str',
        sensitive=true,
        order=28
        )
      }}"
    _postgres_cfg_ssl_crl_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_crl_file',
        raw=postgres_cfg_ssl_crl_file,
        default='',
        hint='str',
        order=29
        )
      }}"
    _postgres_cfg_ssl_crl_dir: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_crl_dir',
        raw=postgres_cfg_ssl_crl_dir,
        default='',
        hint='str',
        order=30
        )
      }}"
    _postgres_cfg_ssl_key_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_key_file',
        raw=postgres_cfg_ssl_key_file,
        default='/etc/ssl/private/ssl-cert-snakeoil.key',
        hint='str',
        sensitive=true,
        order=31
        )
      }}"
    _postgres_cfg_ssl_ciphers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_ciphers',
        raw=postgres_cfg_ssl_ciphers,
        data=postgres_cfg_ssl_ciphers | join(':'),
        default=['HIGH', 'MEDIUM', '+3DES', '!aNULL'],
        hint='list of str',
        order=32
        )
      }}"
    _postgres_cfg_ssl_prefer_server_ciphers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_prefer_server_ciphers',
        raw=postgres_cfg_ssl_prefer_server_ciphers,
        default=true,
        hint='bool',
        order=33
        )
      }}"
    _postgres_cfg_ssl_ecdh_curve: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_ecdh_curve',
        raw=postgres_cfg_ssl_ecdh_curve,
        default='prime256v1',
        hint='str',
        order=34
        )
      }}"
    _postgres_cfg_ssl_min_protocol_version: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_min_protocol_version',
        raw=postgres_cfg_ssl_min_protocol_version,
        default='TLSv1.2',
        hint='str',
        order=35
        )
      }}"
    _postgres_cfg_ssl_max_protocol_version: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_max_protocol_version',
        raw=postgres_cfg_ssl_max_protocol_version,
        default='',
        hint='str',
        order=36
        )
      }}"
    _postgres_cfg_ssl_dh_params_file: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_dh_params_file',
        raw=postgres_cfg_ssl_dh_params_file,
        default='',
        hint='str',
        sensitive=true,
        order=37
        )
      }}"
    _postgres_cfg_ssl_passphrase_command: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_passphrase_command',
        raw=postgres_cfg_ssl_passphrase_command,
        default='',
        hint='str',
        sensitive=true,
        order=38
        )
      }}"
    _postgres_cfg_ssl_passphrase_command_supports_reload: "{{
      {} | r_pufky.data.v3(
        section='postgres.conf',
        key='ssl_passphrase_command_supports_reload',
        raw=postgres_cfg_ssl_passphrase_command_supports_reload,
        default=false,
        hint='bool',
        order=39
        )
      }}"
    _postgres_cfg_shared_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='shared_buffers',
        raw=postgres_cfg_shared_buffers,
        default='128MB',
        hint='str or int',
        order=40
        )
      }}"
    _postgres_cfg_huge_pages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='huge_pages',
        raw=postgres_cfg_huge_pages,
        default='try',
        hint='str or bool',
        order=41
        )
      }}"
    _postgres_cfg_huge_page_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='huge_page_size',
        raw=postgres_cfg_huge_page_size,
        default='0',
        hint='str or int',
        order=42
        )
      }}"
    _postgres_cfg_temp_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='temp_buffers',
        raw=postgres_cfg_temp_buffers,
        default='8MB',
        hint='str or int',
        order=43
        )
      }}"
    _postgres_cfg_max_prepared_transactions: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_prepared_transactions',
        raw=postgres_cfg_max_prepared_transactions,
        default=0,
        hint='int',
        order=44
        )
      }}"
    _postgres_cfg_work_mem: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='work_mem',
        raw=postgres_cfg_work_mem,
        default='4MB',
        hint='str or int',
        order=45
        )
      }}"
    _postgres_cfg_hash_mem_multiplier: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='hash_mem_multiplier',
        raw=postgres_cfg_hash_mem_multiplier,
        default=2.0,
        hint='float',
        order=46
        )
      }}"
    _postgres_cfg_maintenance_work_mem: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='maintenance_work_mem',
        raw=postgres_cfg_maintenance_work_mem,
        default='64MB',
        hint='str or int',
        order=47
        )
      }}"
    _postgres_cfg_autovacuum_work_mem: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_work_mem',
        raw=postgres_cfg_autovacuum_work_mem,
        default='-1',
        hint='str or int',
        order=48
        )
      }}"
    _postgres_cfg_logical_decoding_work_mem: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='logical_decoding_work_mem',
        raw=postgres_cfg_logical_decoding_work_mem,
        default='64MB',
        hint='str or int',
        order=49
        )
      }}"
    _postgres_cfg_max_stack_depth: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_stack_depth',
        raw=postgres_cfg_max_stack_depth,
        default='2MB',
        hint='str or int',
        order=50
        )
      }}"
    _postgres_cfg_shared_memory_type: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='shared_memory_type',
        raw=postgres_cfg_shared_memory_type,
        default='mmap',
        hint='str',
        order=51
        )
      }}"
    _postgres_cfg_dynamic_shared_memory_type: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='dynamic_shared_memory_type',
        raw=postgres_cfg_dynamic_shared_memory_type,
        default='posix',
        hint='str',
        order=52
        )
      }}"
    _postgres_cfg_min_dynamic_shared_memory: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='min_dynamic_shared_memory',
        raw=postgres_cfg_min_dynamic_shared_memory,
        default=0,
        hint='str or int',
        order=53
        )
      }}"
    _postgres_cfg_vacuum_buffer_usage_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_buffer_usage_limit',
        raw=postgres_cfg_vacuum_buffer_usage_limit,
        default='2MB',
        hint='str or int',
        order=54
        )
      }}"
    _postgres_cfg_commit_timestamp_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='commit_timestamp_buffers',
        raw=postgres_cfg_commit_timestamp_buffers,
        default=0,
        hint='str or int',
        order=55
        )
      }}"
    _postgres_cfg_multixact_offset_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='multixact_offset_buffers',
        raw=postgres_cfg_multixact_offset_buffers,
        default='128kB',
        hint='str or int',
        order=56
        )
      }}"
    _postgres_cfg_multixact_member_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='multixact_member_buffers',
        raw=postgres_cfg_multixact_member_buffers,
        default='256kB',
        hint='str or int',
        order=57
        )
      }}"
    _postgres_cfg_notify_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='notify_buffers',
        raw=postgres_cfg_notify_buffers,
        default='128kB',
        hint='str or int',
        order=58
        )
      }}"
    _postgres_cfg_serializable_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='serializable_buffers',
        raw=postgres_cfg_serializable_buffers,
        default='256kB',
        hint='str or int',
        order=59
        )
      }}"
    _postgres_cfg_subtransaction_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='subtransaction_buffers',
        raw=postgres_cfg_subtransaction_buffers,
        default=0,
        hint='str or int',
        order=60
        )
      }}"
    _postgres_cfg_transaction_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='transaction_buffers',
        raw=postgres_cfg_transaction_buffers,
        default=0,
        hint='str or int',
        order=61
        )
      }}"
    _postgres_cfg_temp_file_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='temp_file_limit',
        raw=postgres_cfg_temp_file_limit,
        default=-1,
        hint='str or int',
        order=62
        )
      }}"
    _postgres_cfg_max_notify_queue_pages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_notify_queue_pages',
        raw=postgres_cfg_max_notify_queue_pages,
        default=1048576,
        hint='int',
        order=63
        )
      }}"
    _postgres_cfg_max_files_per_process: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_files_per_process',
        raw=postgres_cfg_max_files_per_process,
        default=1000,
        hint='int',
        order=64
        )
      }}"
    _postgres_cfg_vacuum_cost_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_cost_delay',
        raw=postgres_cfg_vacuum_cost_delay,
        default=0,
        hint='int',
        order=65
        )
      }}"
    _postgres_cfg_vacuum_cost_page_hit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_cost_page_hit',
        raw=postgres_cfg_vacuum_cost_page_hit,
        default=1,
        hint='int',
        order=66
        )
      }}"
    _postgres_cfg_vacuum_cost_page_miss: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_cost_page_miss',
        raw=postgres_cfg_vacuum_cost_page_miss,
        default=2,
        hint='int',
        order=67
        )
      }}"
    _postgres_cfg_vacuum_cost_page_dirty: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_cost_page_dirty',
        raw=postgres_cfg_vacuum_cost_page_dirty,
        default=20,
        hint='int',
        order=68
        )
      }}"
    _postgres_cfg_vacuum_cost_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_cost_limit',
        raw=postgres_cfg_vacuum_cost_limit,
        default=200,
        hint='int',
        order=69
        )
      }}"
    _postgres_cfg_bgwriter_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bgwriter_delay',
        raw=postgres_cfg_bgwriter_delay,
        default='200ms',
        hint='str or int',
        order=70
        )
      }}"
    _postgres_cfg_bgwriter_lru_maxpages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bgwriter_lru_maxpages',
        raw=postgres_cfg_bgwriter_lru_maxpages,
        default=100,
        hint='int',
        order=71
        )
      }}"
    _postgres_cfg_bgwriter_lru_multiplier: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bgwriter_lru_multiplier',
        raw=postgres_cfg_bgwriter_lru_multiplier,
        default=2.0,
        hint='float',
        order=72
        )
      }}"
    _postgres_cfg_bgwriter_flush_after: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bgwriter_flush_after',
        raw=postgres_cfg_bgwriter_flush_after,
        default='512kB',
        hint='str or int',
        order=73
        )
      }}"
    _postgres_cfg_backend_flush_after: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='backend_flush_after',
        raw=postgres_cfg_backend_flush_after,
        default=0,
        hint='str or int',
        order=74
        )
      }}"
    _postgres_cfg_effective_io_concurrency: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='effective_io_concurrency',
        raw=postgres_cfg_effective_io_concurrency,
        default=1,
        hint='int',
        order=75
        )
      }}"
    _postgres_cfg_maintenance_io_concurrency: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='maintenance_io_concurrency',
        raw=postgres_cfg_maintenance_io_concurrency,
        default=10,
        hint='int',
        order=76
        )
      }}"
    _postgres_cfg_io_combine_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='io_combine_limit',
        raw=postgres_cfg_io_combine_limit,
        default='128kB',
        hint='str or int',
        order=77
        )
      }}"
    _postgres_cfg_max_worker_processes: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_worker_processes',
        raw=postgres_cfg_max_worker_processes,
        default=8,
        hint='int',
        order=78
        )
      }}"
    _postgres_cfg_max_parallel_workers_per_gather: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_parallel_workers_per_gather',
        raw=postgres_cfg_max_parallel_workers_per_gather,
        default=2,
        hint='int',
        order=79
        )
      }}"
    _postgres_cfg_max_parallel_maintenance_workers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_parallel_maintenance_workers',
        raw=postgres_cfg_max_parallel_maintenance_workers,
        default=2,
        hint='int',
        order=80
        )
      }}"
    _postgres_cfg_max_parallel_workers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_parallel_workers',
        raw=postgres_cfg_max_parallel_workers,
        default=2,
        hint='int',
        order=81
        )
      }}"
    _postgres_cfg_parallel_leader_participation: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='parallel_leader_participation',
        raw=postgres_cfg_parallel_leader_participation,
        default=true,
        hint='bool',
        order=82
        )
      }}"
    _postgres_cfg_wal_level: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_level',
        raw=postgres_cfg_wal_level,
        default='replica',
        hint='str',
        order=83
        )
      }}"
    _postgres_cfg_fsync: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='fsync',
        raw=postgres_cfg_fsync,
        default=true,
        hint='bool',
        order=84
        )
      }}"
    _postgres_cfg_synchronous_commit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='synchronous_commit',
        raw=postgres_cfg_synchronous_commit,
        default=true,
        hint='str or bool',
        order=85
        )
      }}"
    _postgres_cfg_wal_sync_method: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_sync_method',
        raw=postgres_cfg_wal_sync_method,
        default='fsync',
        hint='str',
        order=86
        )
      }}"
    _postgres_cfg_full_page_writes: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='full_page_writes',
        raw=postgres_cfg_full_page_writes,
        default=true,
        hint='bool',
        order=87
        )
      }}"
    _postgres_cfg_wal_log_hints: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_log_hints',
        raw=postgres_cfg_wal_log_hints,
        default=false,
        hint='bool',
        order=88
        )
      }}"
    _postgres_cfg_wal_compression: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_compression',
        raw=postgres_cfg_wal_compression,
        default=false,
        hint='str or bool',
        order=89
        )
      }}"
    _postgres_cfg_wal_init_zero: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_init_zero',
        raw=postgres_cfg_wal_init_zero,
        default=true,
        hint='bool',
        order=90
        )
      }}"
    _postgres_cfg_wal_recycle: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_recycle',
        raw=postgres_cfg_wal_recycle,
        default=true,
        hint='bool',
        order=91
        )
      }}"
    _postgres_cfg_wal_buffers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_buffers',
        raw=postgres_cfg_wal_buffers,
        default=-1,
        hint='str or int',
        order=92
        )
      }}"
    _postgres_cfg_wal_writer_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_writer_delay',
        raw=postgres_cfg_wal_writer_delay,
        default='200ms',
        hint='str or int',
        order=93
        )
      }}"
    _postgres_cfg_wal_writer_flush_after: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_writer_flush_after',
        raw=postgres_cfg_wal_writer_flush_after,
        default='1MB',
        hint='str or int',
        order=94
        )
      }}"
    _postgres_cfg_wal_skip_threshold: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_skip_threshold',
        raw=postgres_cfg_wal_skip_threshold,
        default='2MB',
        hint='str or int',
        order=95
        )
      }}"
    _postgres_cfg_commit_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='commit_delay',
        raw=postgres_cfg_commit_delay,
        default=0,
        hint='int',
        order=96
        )
      }}"
    _postgres_cfg_commit_siblings: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='commit_siblings',
        raw=postgres_cfg_commit_siblings,
        default=5,
        hint='int',
        order=97
        )
      }}"
    _postgres_cfg_checkpoint_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='checkpoint_timeout',
        raw=postgres_cfg_checkpoint_timeout,
        default='5min',
        hint='str or int',
        order=98
        )
      }}"
    _postgres_cfg_checkpoint_completion_target: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='checkpoint_completion_target',
        raw=postgres_cfg_checkpoint_completion_target,
        default=0.9,
        hint='float',
        order=99
        )
      }}"
    _postgres_cfg_checkpoint_flush_after: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='checkpoint_flush_after',
        raw=postgres_cfg_checkpoint_flush_after,
        default='256kB',
        hint='str or int',
        order=100
        )
      }}"
    _postgres_cfg_checkpoint_warning: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='checkpoint_warning',
        raw=postgres_cfg_checkpoint_warning,
        default='30s',
        hint='str or int',
        order=101
        )
      }}"
    _postgres_cfg_max_wal_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_wal_size',
        raw=postgres_cfg_max_wal_size,
        default='1GB',
        hint='str or int',
        order=102
        )
      }}"
    _postgres_cfg_min_wal_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='min_wal_size',
        raw=postgres_cfg_min_wal_size,
        default='80MB',
        hint='str or int',
        order=103
        )
      }}"
    _postgres_cfg_recovery_prefetch: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_prefetch',
        raw=postgres_cfg_recovery_prefetch,
        default='try',
        hint='str or bool',
        order=104
        )
      }}"
    _postgres_cfg_wal_decode_buffer_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_decode_buffer_size',
        raw=postgres_cfg_wal_decode_buffer_size,
        default='512kB',
        hint='str or int',
        order=105
        )
      }}"
    _postgres_cfg_archive_mode: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='archive_mode',
        raw=postgres_cfg_archive_mode,
        default=false,
        hint='bool',
        order=106
        )
      }}"
    _postgres_cfg_archive_library: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='archive_library',
        raw=postgres_cfg_archive_library,
        default='',
        hint='str',
        order=107
        )
      }}"
    _postgres_cfg_archive_command: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='archive_command',
        raw=postgres_cfg_archive_command,
        default='',
        hint='str',
        order=108
        )
      }}"
    _postgres_cfg_archive_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='archive_timeout',
        raw=postgres_cfg_archive_timeout,
        default=0,
        hint='str or int',
        order=109
        )
      }}"
    _postgres_cfg_restore_command: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='restore_command',
        raw=postgres_cfg_restore_command,
        default='',
        hint='str',
        order=110
        )
      }}"
    _postgres_cfg_archive_cleanup_command: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='archive_cleanup_command',
        raw=postgres_cfg_archive_cleanup_command,
        default='',
        hint='str',
        order=111
        )
      }}"
    _postgres_cfg_recovery_end_command: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_end_command',
        raw=postgres_cfg_recovery_end_command,
        default='',
        hint='str',
        order=112
        )
      }}"
    _postgres_cfg_recovery_target: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target',
        raw=postgres_cfg_recovery_target,
        default='',
        hint='str',
        order=113
        )
      }}"
    _postgres_cfg_recovery_target_name: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_name',
        raw=postgres_cfg_recovery_target_name,
        default='',
        hint='str',
        order=114
        )
      }}"
    _postgres_cfg_recovery_target_time: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_time',
        raw=postgres_cfg_recovery_target_time,
        default='',
        hint='str',
        order=115
        )
      }}"
    _postgres_cfg_recovery_target_xid: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_xid',
        raw=postgres_cfg_recovery_target_xid,
        default='',
        hint='str',
        order=116
        )
      }}"
    _postgres_cfg_recovery_target_lsn: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_lsn',
        raw=postgres_cfg_recovery_target_lsn,
        default='',
        hint='str',
        order=117
        )
      }}"
    _postgres_cfg_recovery_target_inclusive: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_inclusive',
        raw=postgres_cfg_recovery_target_inclusive,
        default=true,
        hint='bool',
        order=118
        )
      }}"
    _postgres_cfg_recovery_target_timeline: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_timeline',
        raw=postgres_cfg_recovery_target_timeline,
        default='latest',
        hint='str',
        order=119
        )
      }}"
    _postgres_cfg_recovery_target_action: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_target_action',
        raw=postgres_cfg_recovery_target_action,
        default='pause',
        hint='str',
        order=120
        )
      }}"
    _postgres_cfg_summarize_wal: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='summarize_wal',
        raw=postgres_cfg_summarize_wal,
        default=false,
        hint='bool',
        order=121
        )
      }}"
    _postgres_cfg_wal_summary_keep_time: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_summary_keep_time',
        raw=postgres_cfg_wal_summary_keep_time,
        default='10d',
        hint='str or int',
        order=122
        )
      }}"

    _postgres_cfg_max_wal_senders: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_wal_senders',
        raw=postgres_cfg_max_wal_senders,
        default=10,
        hint='int',
        order=123
        )
      }}"
    _postgres_cfg_max_replication_slots: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_replication_slots',
        raw=postgres_cfg_max_replication_slots,
        default=10,
        hint='int',
        order=124
        )
      }}"
    _postgres_cfg_wal_keep_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_keep_size',
        raw=postgres_cfg_wal_keep_size,
        default=0,
        hint='str or int',
        order=125
        )
      }}"
    _postgres_cfg_max_slot_wal_keep_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_slot_wal_keep_size',
        raw=postgres_cfg_max_slot_wal_keep_size,
        default=-1,
        hint='str or int',
        order=126
        )
      }}"
    _postgres_cfg_wal_sender_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_sender_timeout',
        raw=postgres_cfg_wal_sender_timeout,
        default='60s',
        hint='str or int',
        order=127
        )
      }}"
    _postgres_cfg_track_commit_timestamp: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_commit_timestamp',
        raw=postgres_cfg_track_commit_timestamp,
        default=false,
        hint='bool',
        order=128
        )
      }}"
    _postgres_cfg_synchronous_standby_names: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='synchronous_standby_names',
        raw=postgres_cfg_synchronous_standby_names,
        default='',
        hint='str',
        order=129
        )
      }}"
    _postgres_cfg_synchronized_standby_slots: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='synchronized_standby_slots',
        raw=postgres_cfg_synchronized_standby_slots,
        data=postgres_cfg_synchronized_standby_slots | join(','),
        default=[],
        hint='list of str',
        order=130
        )
      }}"
    _postgres_cfg_primary_conninfo: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='primary_conninfo',
        raw=postgres_cfg_primary_conninfo,
        default='',
        hint='str',
        order=131
        )
      }}"
    _postgres_cfg_primary_slot_name: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='primary_slot_name',
        raw=postgres_cfg_primary_slot_name,
        default='',
        hint='str',
        order=132
        )
      }}"
    _postgres_cfg_hot_standby: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='hot_standby',
        raw=postgres_cfg_hot_standby,
        default=true,
        hint='bool',
        order=133
        )
      }}"
    _postgres_cfg_max_standby_archive_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_standby_archive_delay',
        raw=postgres_cfg_max_standby_archive_delay,
        default='30s',
        hint='str or int',
        order=134
        )
      }}"
    _postgres_cfg_max_standby_streaming_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_standby_streaming_delay',
        raw=postgres_cfg_max_standby_streaming_delay,
        default='30s',
        hint='str or int',
        order=135
        )
      }}"
    _postgres_cfg_wal_receiver_create_temp_slot: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_receiver_create_temp_slot',
        raw=postgres_cfg_wal_receiver_create_temp_slot,
        default=false,
        hint='bool',
        order=136
        )
      }}"
    _postgres_cfg_wal_receiver_status_interval: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_receiver_status_interval',
        raw=postgres_cfg_wal_receiver_status_interval,
        default='10s',
        hint='str or int',
        order=136
        )
      }}"
    _postgres_cfg_hot_standby_feedback: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='hot_standby_feedback',
        raw=postgres_cfg_hot_standby_feedback,
        default=false,
        hint='bool',
        order=137
        )
      }}"
    _postgres_cfg_wal_receiver_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_receiver_timeout',
        raw=postgres_cfg_wal_receiver_timeout,
        default='60s',
        hint='str or int',
        order=138
        )
      }}"
    _postgres_cfg_wal_retrieve_retry_interval: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='wal_retrieve_retry_interval',
        raw=postgres_cfg_wal_retrieve_retry_interval,
        default='5s',
        hint='str or int',
        order=139
        )
      }}"
    _postgres_cfg_recovery_min_apply_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_min_apply_delay',
        raw=postgres_cfg_recovery_min_apply_delay,
        default=0,
        hint='str or int',
        order=140
        )
      }}"
    _postgres_cfg_sync_replication_slots: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='sync_replication_slots',
        raw=postgres_cfg_sync_replication_slots,
        default=false,
        hint='bool',
        order=141
        )
      }}"
    _postgres_cfg_max_logical_replication_workers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_logical_replication_workers',
        raw=postgres_cfg_max_logical_replication_workers,
        default=4,
        hint='int',
        order=142
        )
      }}"
    _postgres_cfg_max_sync_workers_per_subscription: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_sync_workers_per_subscription',
        raw=postgres_cfg_max_sync_workers_per_subscription,
        default=2,
        hint='int',
        order=143
        )
      }}"
    _postgres_cfg_max_parallel_apply_workers_per_subscription: "{{
      {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_parallel_apply_workers_per_subscription',
        raw=postgres_cfg_max_parallel_apply_workers_per_subscription,
        default=2,
        hint='int',
        order=144
        )
      }}"
    _postgres_cfg_enable_async_append: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_async_append',
        raw=postgres_cfg_enable_async_append,
        default=true,
        hint='bool',
        order=145
        )
      }}"
    _postgres_cfg_enable_bitmapscan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_bitmapscan',
        raw=postgres_cfg_enable_bitmapscan,
        default=true,
        hint='bool',
        order=146
        )
      }}"
    _postgres_cfg_enable_gathermerge: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_gathermerge',
        raw=postgres_cfg_enable_gathermerge,
        default=true,
        hint='bool',
        order=147
        )
      }}"
    _postgres_cfg_enable_hashagg: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_hashagg',
        raw=postgres_cfg_enable_hashagg,
        default=true,
        hint='bool',
        order=148
        )
      }}"
    _postgres_cfg_enable_hashjoin: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_hashjoin',
        raw=postgres_cfg_enable_hashjoin,
        default=true,
        hint='bool',
        order=149
        )
      }}"
    _postgres_cfg_enable_incremental_sort: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_incremental_sort',
        raw=postgres_cfg_enable_incremental_sort,
        default=true,
        hint='bool',
        order=150
        )
      }}"
    _postgres_cfg_enable_indexscan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_indexscan',
        raw=postgres_cfg_enable_indexscan,
        default=true,
        hint='bool',
        order=151
        )
      }}"
    _postgres_cfg_enable_indexonlyscan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_indexonlyscan',
        raw=postgres_cfg_enable_indexonlyscan,
        default=true,
        hint='bool',
        order=152
        )
      }}"
    _postgres_cfg_enable_material: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_material',
        raw=postgres_cfg_enable_material,
        default=true,
        hint='bool',
        order=153
        )
      }}"
    _postgres_cfg_enable_memoize: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_memoize',
        raw=postgres_cfg_enable_memoize,
        default=true,
        hint='bool',
        order=154
        )
      }}"
    _postgres_cfg_enable_mergejoin: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_mergejoin',
        raw=postgres_cfg_enable_mergejoin,
        default=true,
        hint='bool',
        order=155
        )
      }}"
    _postgres_cfg_enable_nestloop: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_nestloop',
        raw=postgres_cfg_enable_nestloop,
        default=true,
        hint='bool',
        order=156
        )
      }}"
    _postgres_cfg_enable_parallel_append: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_parallel_append',
        raw=postgres_cfg_enable_parallel_append,
        default=true,
        hint='bool',
        order=157
        )
      }}"
    _postgres_cfg_enable_parallel_hash: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_parallel_hash',
        raw=postgres_cfg_enable_parallel_hash,
        default=true,
        hint='bool',
        order=158
        )
      }}"
    _postgres_cfg_enable_partition_pruning: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_partition_pruning',
        raw=postgres_cfg_enable_partition_pruning,
        default=true,
        hint='bool',
        order=159
        )
      }}"
    _postgres_cfg_enable_partitionwise_join: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_partitionwise_join',
        raw=postgres_cfg_enable_partitionwise_join,
        default=false,
        hint='bool',
        order=160
        )
      }}"
    _postgres_cfg_enable_partitionwise_aggregate: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_partitionwise_aggregate',
        raw=postgres_cfg_enable_partitionwise_aggregate,
        default=false,
        hint='bool',
        order=161
        )
      }}"
    _postgres_cfg_enable_presorted_aggregate: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_presorted_aggregate',
        raw=postgres_cfg_enable_presorted_aggregate,
        default=true,
        hint='bool',
        order=162
        )
      }}"
    _postgres_cfg_enable_seqscan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_seqscan',
        raw=postgres_cfg_enable_seqscan,
        default=true,
        hint='bool',
        order=163
        )
      }}"
    _postgres_cfg_enable_sort: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_sort',
        raw=postgres_cfg_enable_sort,
        default=true,
        hint='bool',
        order=164
        )
      }}"
    _postgres_cfg_enable_tidscan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_tidscan',
        raw=postgres_cfg_enable_tidscan,
        default=true,
        hint='bool',
        order=165
        )
      }}"
    _postgres_cfg_enable_group_by_reordering: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='enable_group_by_reordering',
        raw=postgres_cfg_enable_group_by_reordering,
        default=true,
        hint='bool',
        order=166
        )
      }}"
    _postgres_cfg_seq_page_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='seq_page_cost',
        raw=postgres_cfg_seq_page_cost,
        default=1.0,
        hint='float',
        order=167
        )
      }}"
    _postgres_cfg_random_page_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='random_page_cost',
        raw=postgres_cfg_random_page_cost,
        default=4.0,
        hint='float',
        order=168
        )
      }}"
    _postgres_cfg_cpu_tuple_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='cpu_tuple_cost',
        raw=postgres_cfg_cpu_tuple_cost,
        default=0.01,
        hint='float',
        order=169
        )
      }}"
    _postgres_cfg_cpu_index_tuple_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='cpu_index_tuple_cost',
        raw=postgres_cfg_cpu_index_tuple_cost,
        default=0.005,
        hint='float',
        order=170
        )
      }}"
    _postgres_cfg_cpu_operator_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='cpu_operator_cost',
        raw=postgres_cfg_cpu_operator_cost,
        default=0.0025,
        hint='float',
        order=171
        )
      }}"
    _postgres_cfg_parallel_setup_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='parallel_setup_cost',
        raw=postgres_cfg_parallel_setup_cost,
        default=1000.0,
        hint='float',
        order=172
        )
      }}"
    _postgres_cfg_parallel_tuple_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='parallel_tuple_cost',
        raw=postgres_cfg_parallel_tuple_cost,
        default=0.1,
        hint='float',
        order=173
        )
      }}"
    _postgres_cfg_min_parallel_table_scan_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='min_parallel_table_scan_size',
        raw=postgres_cfg_min_parallel_table_scan_size,
        default='8MB',
        hint='str or int',
        order=174
        )
      }}"
    _postgres_cfg_min_parallel_index_scan_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='min_parallel_index_scan_size',
        raw=postgres_cfg_min_parallel_index_scan_size,
        default='512kB',
        hint='str or int',
        order=175
        )
      }}"
    _postgres_cfg_effective_cache_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='effective_cache_size',
        raw=postgres_cfg_effective_cache_size,
        default='4GB',
        hint='str or int',
        order=176
        )
      }}"
    _postgres_cfg_jit_above_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='jit_above_cost',
        raw=postgres_cfg_jit_above_cost,
        default=100000,
        hint='int',
        order=177
        )
      }}"
    _postgres_cfg_jit_inline_above_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='jit_inline_above_cost',
        raw=postgres_cfg_jit_inline_above_cost,
        default=500000,
        hint='int',
        order=178
        )
      }}"
    _postgres_cfg_jit_optimize_above_cost: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='jit_optimize_above_cost',
        raw=postgres_cfg_jit_optimize_above_cost,
        default=500000,
        hint='int',
        order=179
        )
      }}"
    _postgres_cfg_geqo: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo',
        raw=postgres_cfg_geqo,
        default=true,
        hint='bool',
        order=180
        )
      }}"
    _postgres_cfg_geqo_threshold: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_threshold',
        raw=postgres_cfg_geqo_threshold,
        default=12,
        hint='int',
        order=181
        )
      }}"
    _postgres_cfg_geqo_effort: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_effort',
        raw=postgres_cfg_geqo_effort,
        default=5,
        hint='int',
        order=182
        )
      }}"
    _postgres_cfg_geqo_pool_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_pool_size',
        raw=postgres_cfg_geqo_pool_size,
        default=0,
        hint='int',
        order=183
        )
      }}"
    _postgres_cfg_geqo_generations: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_generations',
        raw=postgres_cfg_geqo_generations,
        default=0,
        hint='int',
        order=184
        )
      }}"
    _postgres_cfg_geqo_selection_bias: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_selection_bias',
        raw=postgres_cfg_geqo_selection_bias,
        default=2.0,
        hint='float',
        order=185
        )
      }}"
    _postgres_cfg_geqo_seed: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='geqo_seed',
        raw=postgres_cfg_geqo_seed,
        default=0.0,
        hint='float',
        order=186
        )
      }}"
    _postgres_cfg_default_statistics_target: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_statistics_target',
        raw=postgres_cfg_default_statistics_target,
        default=100,
        hint='int',
        order=187
        )
      }}"
    _postgres_cfg_constraint_exclusion: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='constraint_exclusion',
        raw=postgres_cfg_constraint_exclusion,
        default='partition',
        hint='str or bool',
        order=188
        )
      }}"
    _postgres_cfg_cursor_tuple_fraction: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='cursor_tuple_fraction',
        raw=postgres_cfg_cursor_tuple_fraction,
        default=0.1,
        hint='float',
        order=189
        )
      }}"
    _postgres_cfg_from_collapse_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='from_collapse_limit',
        raw=postgres_cfg_from_collapse_limit,
        default=8,
        hint='int',
        order=190
        )
      }}"
    _postgres_cfg_jit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='jit',
        raw=postgres_cfg_jit,
        default=true,
        hint='bool',
        order=191
        )
      }}"
    _postgres_cfg_join_collapse_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='join_collapse_limit',
        raw=postgres_cfg_join_collapse_limit,
        default=8,
        hint='int',
        order=192
        )
      }}"
    _postgres_cfg_plan_cache_mode: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='plan_cache_mode',
        raw=postgres_cfg_plan_cache_mode,
        default='auto',
        hint='str',
        order=193
        )
      }}"
    _postgres_cfg_recursive_worktable_factor: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recursive_worktable_factor',
        raw=postgres_cfg_recursive_worktable_factor,
        default=10.0,
        hint='float',
        order=194
        )
      }}"
    _postgres_cfg_log_destination: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_destination',
        raw=postgres_cfg_log_destination,
        data=postgres_cfg_log_destination | join(','),
        default=['stderr'],
        hint='list of str',
        order=195
        )
      }}"
    _postgres_cfg_logging_collector: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='logging_collector',
        raw=postgres_cfg_logging_collector,
        default=false,
        hint='bool',
        order=196
        )
      }}"
    _postgres_cfg_log_directory: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_directory',
        raw=postgres_cfg_log_directory,
        default='log',
        hint='str',
        order=197
        )
      }}"
    _postgres_cfg_log_filename: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_filename',
        raw=postgres_cfg_log_filename,
        default='postgresql-%Y-%m-%d_%H%M%S.log',
        hint='str',
        order=198
        )
      }}"
    _postgres_cfg_log_file_mode: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_file_mode',
        raw=postgres_cfg_log_file_mode,
        default='0600',
        hint='str',
        order=199
        )
      }}"
    _postgres_cfg_log_rotation_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_rotation_age',
        raw=postgres_cfg_log_rotation_age,
        default='1d',
        hint='str or int',
        order=200
        )
      }}"
    _postgres_cfg_log_rotation_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_rotation_size',
        raw=postgres_cfg_log_rotation_size,
        default='10MB',
        hint='str or int',
        order=201
        )
      }}"
    _postgres_cfg_log_truncate_on_rotation: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_truncate_on_rotation',
        raw=postgres_cfg_log_truncate_on_rotation,
        default=false,
        hint='bool',
        order=202
        )
      }}"
    _postgres_cfg_syslog_facility: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='syslog_facility',
        raw=postgres_cfg_syslog_facility,
        default='LOCAL0',
        hint='str',
        order=203
        )
      }}"
    _postgres_cfg_syslog_ident: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='syslog_ident',
        raw=postgres_cfg_syslog_ident,
        default='postgres',
        hint='str',
        order=204
        )
      }}"
    _postgres_cfg_syslog_sequence_numbers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='syslog_sequence_numbers',
        raw=postgres_cfg_syslog_sequence_numbers,
        default=true,
        hint='bool',
        order=205
        )
      }}"
    _postgres_cfg_syslog_split_messages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='syslog_split_messages',
        raw=postgres_cfg_syslog_split_messages,
        default=true,
        hint='bool',
        order=206
        )
      }}"
    _postgres_cfg_event_source: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='event_source',
        raw=postgres_cfg_event_source,
        default='PostgreSQL',
        hint='str',
        order=207
        )
      }}"
    _postgres_cfg_log_min_messages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_min_messages',
        raw=postgres_cfg_log_min_messages,
        default='warning',
        hint='str',
        order=208
        )
      }}"
    _postgres_cfg_log_min_error_statement: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_min_error_statement',
        raw=postgres_cfg_log_min_error_statement,
        default='error',
        hint='str',
        order=209
        )
      }}"
    _postgres_cfg_log_min_duration_statement: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_min_duration_statement',
        raw=postgres_cfg_log_min_duration_statement,
        default=-1,
        hint='int',
        order=210
        )
      }}"
    _postgres_cfg_log_min_duration_sample: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_min_duration_sample',
        raw=postgres_cfg_log_min_duration_sample,
        default=-1,
        hint='int',
        order=211
        )
      }}"
    _postgres_cfg_log_statement_sample_rate: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_statement_sample_rate',
        raw=postgres_cfg_log_statement_sample_rate,
        default=1.0,
        hint='float',
        order=212
        )
      }}"
    _postgres_cfg_log_transaction_sample_rate: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_transaction_sample_rate',
        raw=postgres_cfg_log_transaction_sample_rate,
        default=0.0,
        hint='float',
        order=213
        )
      }}"
    _postgres_cfg_log_startup_progress_interval: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_startup_progress_interval',
        raw=postgres_cfg_log_startup_progress_interval,
        default='10s',
        hint='str or int',
        order=214
        )
      }}"
    _postgres_cfg_debug_print_parse: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='debug_print_parse',
        raw=postgres_cfg_debug_print_parse,
        default=false,
        hint='bool',
        order=215
        )
      }}"
    _postgres_cfg_debug_print_rewritten: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='debug_print_rewritten',
        raw=postgres_cfg_debug_print_rewritten,
        default=false,
        hint='bool',
        order=216
        )
      }}"
    _postgres_cfg_debug_print_plan: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='debug_print_plan',
        raw=postgres_cfg_debug_print_plan,
        default=false,
        hint='bool',
        order=217
        )
      }}"
    _postgres_cfg_debug_pretty_print: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='debug_pretty_print',
        raw=postgres_cfg_debug_pretty_print,
        default=true,
        hint='bool',
        order=218
        )
      }}"
    _postgres_cfg_log_autovacuum_min_duration: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_autovacuum_min_duration',
        raw=postgres_cfg_log_autovacuum_min_duration,
        default='10min',
        hint='str or int',
        order=219
        )
      }}"
    _postgres_cfg_log_checkpoints: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_checkpoints',
        raw=postgres_cfg_log_checkpoints,
        default=true,
        hint='bool',
        order=220
        )
      }}"
    _postgres_cfg_log_connections: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_connections',
        raw=postgres_cfg_log_connections,
        default=false,
        hint='bool',
        order=221
        )
      }}"
    _postgres_cfg_log_disconnections: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_disconnections',
        raw=postgres_cfg_log_disconnections,
        default=false,
        hint='bool',
        order=222
        )
      }}"
    _postgres_cfg_log_duration: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_duration',
        raw=postgres_cfg_log_duration,
        default=false,
        hint='bool',
        order=223
        )
      }}"
    _postgres_cfg_log_error_verbosity: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_error_verbosity',
        raw=postgres_cfg_log_error_verbosity,
        default='default',
        hint='str',
        order=224
        )
      }}"
    _postgres_cfg_log_hostname: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_hostname',
        raw=postgres_cfg_log_hostname,
        default=false,
        hint='bool',
        order=225
        )
      }}"
    _postgres_cfg_log_line_prefix: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_line_prefix',
        raw=postgres_cfg_log_line_prefix,
        default='%m [%p] %q%u@%d ',
        hint='str',
        order=226
        )
      }}"
    _postgres_cfg_log_lock_waits: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_lock_waits',
        raw=postgres_cfg_log_lock_waits,
        default=false,
        hint='bool',
        order=227
        )
      }}"
    _postgres_cfg_log_recovery_conflict_waits: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_recovery_conflict_waits',
        raw=postgres_cfg_log_recovery_conflict_waits,
        default=false,
        hint='bool',
        order=228
        )
      }}"
    _postgres_cfg_log_parameter_max_length: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_parameter_max_length',
        raw=postgres_cfg_log_parameter_max_length,
        default=-1,
        hint='int',
        order=229
        )
      }}"
    _postgres_cfg_log_parameter_max_length_on_error: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_parameter_max_length_on_error',
        raw=postgres_cfg_log_parameter_max_length_on_error,
        default=0,
        hint='int',
        order=230
        )
      }}"
    _postgres_cfg_log_statement: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_statement',
        raw=postgres_cfg_log_statement,
        default='none',
        hint='str',
        order=231
        )
      }}"
    _postgres_cfg_log_replication_commands: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_replication_commands',
        raw=postgres_cfg_log_replication_commands,
        default=false,
        hint='bool',
        order=232
        )
      }}"
    _postgres_cfg_log_temp_files: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_temp_files',
        raw=postgres_cfg_log_temp_files,
        default=-1,
        hint='str or int',
        order=233
        )
      }}"
    _postgres_cfg_log_timezone: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_timezone',
        raw=postgres_cfg_log_timezone,
        default='Etc/UTC',
        hint='str',
        order=234
        )
      }}"
    _postgres_cfg_cluster_name: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='cluster_name',
        raw=postgres_cfg_cluster_name,
        default='17/main',
        hint='str',
        order=235
        )
      }}"
    _postgres_cfg_update_process_title: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='update_process_title',
        raw=postgres_cfg_update_process_title,
        default=true,
        hint='bool',
        order=236
        )
      }}"
    _postgres_cfg_track_activities: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_activities',
        raw=postgres_cfg_track_activities,
        default=true,
        hint='bool',
        order=237
        )
      }}"
    _postgres_cfg_track_activity_query_size: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_activity_query_size',
        raw=postgres_cfg_track_activity_query_size,
        default=1024,
        hint='str or int',
        order=238
        )
      }}"
    _postgres_cfg_track_counts: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_counts',
        raw=postgres_cfg_track_counts,
        default=true,
        hint='bool',
        order=239
        )
      }}"
    _postgres_cfg_track_io_timing: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_io_timing',
        raw=postgres_cfg_track_io_timing,
        default=false,
        hint='bool',
        order=240
        )
      }}"
    _postgres_cfg_track_wal_io_timing: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_wal_io_timing',
        raw=postgres_cfg_track_wal_io_timing,
        default=false,
        hint='bool',
        order=241
        )
      }}"
    _postgres_cfg_track_functions: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='track_functions',
        raw=postgres_cfg_track_functions,
        default='none',
        hint='str',
        order=242
        )
      }}"
    _postgres_cfg_stats_fetch_consistency: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='stats_fetch_consistency',
        raw=postgres_cfg_stats_fetch_consistency,
        default='cache',
        hint='str',
        order=243
        )
      }}"
    _postgres_cfg_compute_query_id: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='compute_query_id',
        raw=postgres_cfg_compute_query_id,
        default='auto',
        hint='str or bool',
        order=244
        )
      }}"
    _postgres_cfg_log_statement_stats: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_statement_stats',
        raw=postgres_cfg_log_statement_stats,
        default=false,
        hint='bool',
        order=245
        )
      }}"
    _postgres_cfg_log_parser_stats: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_parser_stats',
        raw=postgres_cfg_log_parser_stats,
        default=false,
        hint='bool',
        order=246
        )
      }}"
    _postgres_cfg_log_planner_stats: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_planner_stats',
        raw=postgres_cfg_log_planner_stats,
        default=false,
        hint='bool',
        order=247
        )
      }}"
    _postgres_cfg_log_executor_stats: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='log_executor_stats',
        raw=postgres_cfg_log_executor_stats,
        default=false,
        hint='bool',
        order=248
        )
      }}"
    _postgres_cfg_autovacuum: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum',
        raw=postgres_cfg_autovacuum,
        default=true,
        hint='bool',
        order=249
        )
      }}"
    _postgres_cfg_autovacuum_max_workers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_max_workers',
        raw=postgres_cfg_autovacuum_max_workers,
        default=3,
        hint='int',
        order=250
        )
      }}"
    _postgres_cfg_autovacuum_naptime: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_naptime',
        raw=postgres_cfg_autovacuum_naptime,
        default='1min',
        hint='str or int',
        order=251
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_threshold: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_threshold',
        raw=postgres_cfg_autovacuum_vacuum_threshold,
        default=50,
        hint='int',
        order=252
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_insert_threshold: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_insert_threshold',
        raw=postgres_cfg_autovacuum_vacuum_insert_threshold,
        default=1000,
        hint='int',
        order=253
        )
      }}"
    _postgres_cfg_autovacuum_analyze_threshold: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_analyze_threshold',
        raw=postgres_cfg_autovacuum_analyze_threshold,
        default=50,
        hint='int',
        order=254
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_scale_factor: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_scale_factor',
        raw=postgres_cfg_autovacuum_vacuum_scale_factor,
        default=0.2,
        hint='float',
        order=255
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_insert_scale_factor: "{{
      {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_insert_scale_factor',
        raw=postgres_cfg_autovacuum_vacuum_insert_scale_factor,
        default=0.2,
        hint='float',
        order=256
        )
      }}"
    _postgres_cfg_autovacuum_analyze_scale_factor: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_analyze_scale_factor',
        raw=postgres_cfg_autovacuum_analyze_scale_factor,
        default=0.1,
        hint='float',
        order=257
        )
      }}"
    _postgres_cfg_autovacuum_freeze_max_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_freeze_max_age',
        raw=postgres_cfg_autovacuum_freeze_max_age,
        default=200000000,
        hint='int',
        order=258
        )
      }}"
    _postgres_cfg_autovacuum_multixact_freeze_max_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_multixact_freeze_max_age',
        raw=postgres_cfg_autovacuum_multixact_freeze_max_age,
        default=400000000,
        hint='int',
        order=259
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_cost_delay: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_cost_delay',
        raw=postgres_cfg_autovacuum_vacuum_cost_delay,
        default='2ms',
        hint='str or int',
        order=260
        )
      }}"
    _postgres_cfg_autovacuum_vacuum_cost_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='autovacuum_vacuum_cost_limit',
        raw=postgres_cfg_autovacuum_vacuum_cost_limit,
        default=-1,
        hint='int',
        order=261
        )
      }}"
    _postgres_cfg_client_min_messages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='client_min_messages',
        raw=postgres_cfg_client_min_messages,
        default='notice',
        hint='str',
        order=262
        )
      }}"
    _postgres_cfg_search_path: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='search_path',
        raw=postgres_cfg_search_path,
        data=postgres_cfg_search_path | join(','),
        default=postgres_role_unsafe_search_path,
        hint='list of str',
        order=263
        )
      }}"
    _postgres_cfg_row_security: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='row_security',
        raw=postgres_cfg_row_security,
        default=true,
        hint='bool',
        order=264
        )
      }}"
    _postgres_cfg_default_table_access_method: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_table_access_method',
        raw=postgres_cfg_default_table_access_method,
        default='heap',
        hint='str',
        order=265
        )
      }}"
    _postgres_cfg_default_tablespace: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_tablespace',
        raw=postgres_cfg_default_tablespace,
        default='',
        hint='str',
        order=266
        )
      }}"
    _postgres_cfg_default_toast_compression: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_toast_compression',
        raw=postgres_cfg_default_toast_compression,
        default='pglz',
        hint='str',
        order=267
        )
      }}"
    _postgres_cfg_temp_tablespaces: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='temp_tablespaces',
        raw=postgres_cfg_temp_tablespaces,
        default='',
        hint='str',
        order=268
        )
      }}"
    _postgres_cfg_check_function_bodies: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='check_function_bodies',
        raw=postgres_cfg_check_function_bodies,
        default=true,
        hint='bool',
        order=269
        )
      }}"
    _postgres_cfg_default_transaction_isolation: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_transaction_isolation',
        raw=postgres_cfg_default_transaction_isolation,
        default='read committed',
        hint='str',
        order=270
        )
      }}"
    _postgres_cfg_default_transaction_read_only: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_transaction_read_only',
        raw=postgres_cfg_default_transaction_read_only,
        default=false,
        hint='bool',
        order=271
        )
      }}"
    _postgres_cfg_default_transaction_deferrable: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_transaction_deferrable',
        raw=postgres_cfg_default_transaction_deferrable,
        default=false,
        hint='bool',
        order=272
        )
      }}"
    _postgres_cfg_session_replication_role: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='session_replication_role',
        raw=postgres_cfg_session_replication_role,
        default='origin',
        hint='str',
        order=273
        )
      }}"
    _postgres_cfg_statement_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='statement_timeout',
        raw=postgres_cfg_statement_timeout,
        default=0,
        hint='str or int',
        order=274
        )
      }}"
    _postgres_cfg_transaction_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='transaction_timeout',
        raw=postgres_cfg_transaction_timeout,
        default=0,
        hint='str or int',
        order=275
        )
      }}"
    _postgres_cfg_lock_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lock_timeout',
        raw=postgres_cfg_lock_timeout,
        default=0,
        hint='str or int',
        order=276
        )
      }}"
    _postgres_cfg_idle_in_transaction_session_timeout: "{{
      {} | r_pufky.data.v3(
        section='postgres.conf',
        key='idle_in_transaction_session_timeout',
        raw=postgres_cfg_idle_in_transaction_session_timeout,
        default=0,
        hint='str or int',
        order=277
        )
      }}"
    _postgres_cfg_idle_session_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='idle_session_timeout',
        raw=postgres_cfg_idle_session_timeout,
        default=0,
        hint='str or int',
        order=278
        )
      }}"
    _postgres_cfg_vacuum_freeze_table_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_freeze_table_age',
        raw=postgres_cfg_vacuum_freeze_table_age,
        default=150000000,
        hint='int',
        order=279
        )
      }}"
    _postgres_cfg_vacuum_freeze_min_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_freeze_min_age',
        raw=postgres_cfg_vacuum_freeze_min_age,
        default=50000000,
        hint='int',
        order=280
        )
      }}"
    _postgres_cfg_vacuum_failsafe_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_failsafe_age',
        raw=postgres_cfg_vacuum_failsafe_age,
        default=1600000000,
        hint='int',
        order=281
        )
      }}"
    _postgres_cfg_vacuum_multixact_freeze_table_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_multixact_freeze_table_age',
        raw=postgres_cfg_vacuum_multixact_freeze_table_age,
        default=150000000,
        hint='int',
        order=282
        )
      }}"
    _postgres_cfg_vacuum_multixact_freeze_min_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_multixact_freeze_min_age',
        raw=postgres_cfg_vacuum_multixact_freeze_min_age,
        default=5000000,
        hint='int',
        order=283
        )
      }}"
    _postgres_cfg_vacuum_multixact_failsafe_age: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='vacuum_multixact_failsafe_age',
        raw=postgres_cfg_vacuum_multixact_failsafe_age,
        default=1600000000,
        hint='int',
        order=284
        )
      }}"
    _postgres_cfg_bytea_output: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='bytea_output',
        raw=postgres_cfg_bytea_output,
        default='hex',
        hint='str',
        order=285
        )
      }}"
    _postgres_cfg_xmlbinary: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='xmlbinary',
        raw=postgres_cfg_xmlbinary,
        default='base64',
        hint='str',
        order=286
        )
      }}"
    _postgres_cfg_xmloption: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='xmloption',
        raw=postgres_cfg_xmloption,
        default='content',
        hint='str',
        order=287
        )
      }}"
    _postgres_cfg_gin_pending_list_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='gin_pending_list_limit',
        raw=postgres_cfg_gin_pending_list_limit,
        default='4MB',
        hint='str or int',
        order=288
        )
      }}"
    _postgres_cfg_createrole_self_grant: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='createrole_self_grant',
        raw=postgres_cfg_createrole_self_grant,
        data=postgres_cfg_createrole_self_grant | join(','),
        default=[],
        hint='list of str',
        order=289
        )
      }}"
    _postgres_cfg_event_triggers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='event_triggers',
        raw=postgres_cfg_event_triggers,
        default=true,
        hint='bool',
        order=290
        )
      }}"
    _postgres_cfg_datestyle: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='datestyle',
        raw=postgres_cfg_datestyle,
        data=postgres_cfg_datestyle | join(','),
        default=[],
        hint='list of str',
        order=291
        )
      }}"
    _postgres_cfg_intervalstyle: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='intervalstyle',
        raw=postgres_cfg_intervalstyle,
        default='postgres',
        hint='str',
        order=292
        )
      }}"
    _postgres_cfg_timezone: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='timezone',
        raw=postgres_cfg_timezone,
        default='Etc/UTC',
        hint='str',
        order=293
        )
      }}"
    _postgres_cfg_timezone_abbreviations: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='timezone_abbreviations',
        raw=postgres_cfg_timezone_abbreviations,
        default='Default',
        hint='str',
        order=294
        )
      }}"
    _postgres_cfg_extra_float_digits: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='extra_float_digits',
        raw=postgres_cfg_extra_float_digits,
        default=1,
        hint='int',
        order=295
        )
      }}"
    _postgres_cfg_client_encoding: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='client_encoding',
        raw=postgres_cfg_client_encoding,
        default='sql_ascii',
        hint='str',
        order=296
        )
      }}"
    _postgres_cfg_lc_messages: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lc_messages',
        raw=postgres_cfg_lc_messages,
        default='C.UTF-8',
        hint='str',
        order=297
        )
      }}"
    _postgres_cfg_lc_monetary: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lc_monetary',
        raw=postgres_cfg_lc_monetary,
        default='C.UTF-8',
        hint='str',
        order=298
        )
      }}"
    _postgres_cfg_lc_numeric: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lc_numeric',
        raw=postgres_cfg_lc_numeric,
        default='C.UTF-8',
        hint='str',
        order=299
        )
      }}"
    _postgres_cfg_lc_time: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lc_time',
        raw=postgres_cfg_lc_time,
        default='C.UTF-8',
        hint='str',
        order=300
        )
      }}"
    _postgres_cfg_icu_validation_level: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='icu_validation_level',
        raw=postgres_cfg_icu_validation_level,
        default='warning',
        hint='str',
        order=301
        )
      }}"
    _postgres_cfg_default_text_search_config: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='default_text_search_config',
        raw=postgres_cfg_default_text_search_config,
        default='pg_catalog.english',
        hint='str',
        order=302
        )
      }}"
    _postgres_cfg_local_preload_libraries: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='local_preload_libraries',
        raw=postgres_cfg_local_preload_libraries,
        data=postgres_cfg_local_preload_libraries | join(','),
        default=[],
        hint='list of str',
        order=303
        )
      }}"
    _postgres_cfg_session_preload_libraries: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='session_preload_libraries',
        raw=postgres_cfg_session_preload_libraries,
        data=postgres_cfg_session_preload_libraries | join(','),
        default=[],
        hint='list of str',
        order=304
        )
      }}"
    _postgres_cfg_shared_preload_libraries: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='shared_preload_libraries',
        raw=postgres_cfg_shared_preload_libraries,
        data=postgres_cfg_shared_preload_libraries | join(','),
        default=[],
        hint='list of str',
        order=305
        )
      }}"
    _postgres_cfg_jit_provider: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='jit_provider',
        raw=postgres_cfg_jit_provider,
        default='llvmjit',
        hint='str',
        order=306
        )
      }}"
    _postgres_cfg_dynamic_library_path: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='dynamic_library_path',
        raw=postgres_cfg_dynamic_library_path,
        data=postgres_cfg_dynamic_library_path | join(':'),
        default=['$libdir'],
        hint='list of str',
        order=307
        )
      }}"
    _postgres_cfg_extension_destdir: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='extension_destdir',
        raw=postgres_cfg_extension_destdir,
        default='',
        hint='str',
        order=308
        )
      }}"
    _postgres_cfg_gin_fuzzy_search_limit: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='gin_fuzzy_search_limit',
        raw=postgres_cfg_gin_fuzzy_search_limit,
        default=0,
        hint='int',
        order=309
        )
      }}"
    _postgres_cfg_deadlock_timeout: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='deadlock_timeout',
        raw=postgres_cfg_deadlock_timeout,
        default='1s',
        hint='str or int',
        order=310
        )
      }}"
    _postgres_cfg_max_locks_per_transaction: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_locks_per_transaction',
        raw=postgres_cfg_max_locks_per_transaction,
        default=64,
        hint='int',
        order=311
        )
      }}"
    _postgres_cfg_max_pred_locks_per_transaction: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_pred_locks_per_transaction',
        raw=postgres_cfg_max_pred_locks_per_transaction,
        default=64,
        hint='int',
        order=312
        )
      }}"
    _postgres_cfg_max_pred_locks_per_relation: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_pred_locks_per_relation',
        raw=postgres_cfg_max_pred_locks_per_relation,
        default=-2,
        hint='int',
        order=313
        )
      }}"
    _postgres_cfg_max_pred_locks_per_page: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='max_pred_locks_per_page',
        raw=postgres_cfg_max_pred_locks_per_page,
        default=2,
        hint='int',
        order=314
        )
      }}"
    _postgres_cfg_array_nulls: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='array_nulls',
        raw=postgres_cfg_array_nulls,
        default=true,
        hint='bool',
        order=315
        )
      }}"
    _postgres_cfg_backslash_quote: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='backslash_quote',
        raw=postgres_cfg_backslash_quote,
        default='safe_encoding',
        hint='str or bool',
        order=316
        )
      }}"
    _postgres_cfg_escape_string_warning: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='escape_string_warning',
        raw=postgres_cfg_escape_string_warning,
        default=true,
        hint='bool',
        order=317
        )
      }}"
    _postgres_cfg_lo_compat_privileges: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='lo_compat_privileges',
        raw=postgres_cfg_lo_compat_privileges,
        default=false,
        hint='bool',
        order=318
        )
      }}"
    _postgres_cfg_quote_all_identifiers: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='quote_all_identifiers',
        raw=postgres_cfg_quote_all_identifiers,
        default=false,
        hint='bool',
        order=319
        )
      }}"
    _postgres_cfg_standard_conforming_strings: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='standard_conforming_strings',
        raw=postgres_cfg_standard_conforming_strings,
        default=true,
        hint='bool',
        order=320
        )
      }}"
    _postgres_cfg_synchronize_seqscans: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='synchronize_seqscans',
        raw=postgres_cfg_synchronize_seqscans,
        default=true,
        hint='bool',
        order=321
        )
      }}"
    _postgres_cfg_transform_null_equals: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='transform_null_equals',
        raw=postgres_cfg_transform_null_equals,
        default=false,
        hint='bool',
        order=322
        )
      }}"
    _postgres_cfg_allow_alter_system: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='allow_alter_system',
        raw=postgres_cfg_allow_alter_system,
        default=true,
        hint='bool',
        order=323
        )
      }}"
    _postgres_cfg_exit_on_error: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='exit_on_error',
        raw=postgres_cfg_exit_on_error,
        default=false,
        hint='bool',
        order=324
        )
      }}"
    _postgres_cfg_restart_after_crash: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='restart_after_crash',
        raw=postgres_cfg_restart_after_crash,
        default=true,
        hint='bool',
        order=325
        )
      }}"
    _postgres_cfg_data_sync_retry: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='data_sync_retry',
        raw=postgres_cfg_data_sync_retry,
        default=false,
        hint='bool',
        order=326
        )
      }}"
    _postgres_cfg_recovery_init_sync_method: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='recovery_init_sync_method',
        raw=postgres_cfg_recovery_init_sync_method,
        default='fsync',
        hint='str',
        order=327
        )
      }}"
    _postgres_cfg_include_dir: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='include_dir',
        raw=postgres_cfg_include_dir,
        default=['conf.d'],
        hint='list of str',
        order=328
        )
      }}"
    _postgres_cfg_include_if_exists: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='include_if_exists',
        raw=postgres_cfg_include_if_exists,
        default=[],
        hint='list of str',
        order=329
        )
      }}"
    _postgres_cfg_include: "{{ {} | r_pufky.data.v3(
        section='postgres.conf',
        key='include',
        raw=postgres_cfg_include,
        default=[],
        hint='list of str',
        order=330
        )
      }}"
    _postgres_cfg_environment: "{{ {} | r_pufky.data.v3(
        section='Environment',
        key='environment',
        raw=postgres_cfg_environment,
        default={},
        _dest=_postgres.environment,
        _perms='0644',
        hint='dict',
        order=1
        )
      }}"
    _postgres_cfg_ctl: "{{ {} | r_pufky.data.v3(
        section='pg_ctl.conf',
        raw=postgres_cfg_ctl,
        data=postgres_cfg_ctl | join(' '),
        default=[],
        _file=_postgres.pg_ctl,
        _perms='0644',
        hint='list of str',
        order=1
        )
      }}"
    _postgres_cfg_hba: "{{ {} | r_pufky.data.v3(
        section='pg_hba.conf',
        key='hba',
        raw=postgres_cfg_hba,
        data=[],
        default=[
        {
            'comment': 'Database administrative login by Unix domain socket',
            'type': 'local',
            'database': 'all',
            'user': 'postgres',
            'method': 'peer',
        },
        {
            'comment': 'local is for Unix domain socket connections only',
            'type': 'local',
            'database': 'all',
            'user': 'all',
            'method': 'peer',
        },
        {
            'comment': 'IPv4 local connections',
            'type': 'host',
            'database': 'all',
            'user': 'all',
            'address': '127.0.0.1/32',
            'method': 'scram-sha-256',
        },
        {
            'comment': 'IPv6 local connections',
            'type': 'host',
            'database': 'all',
            'user': 'all',
            'address': '::1/128',
            'method': 'scram-sha-256',
        },
        {
            'comment': (
              'Allow replication connections from localhost, by a ' ~
              'user with the replication privilege.'
            ),
            'type': 'local',
            'database': 'replication',
            'user': 'all',
            'method': 'peer',
        },
        {
            'type': 'host',
            'database': 'replication',
            'user': 'all',
            'address': '127.0.0.1/32',
            'method': 'scram-sha-256',
        },
        {
            'type': 'host',
            'database': 'replication',
            'user': 'all',
            'address': '::1/128',
            'method': 'scram-sha-256',
        }
      ],
        hint='list of dict',
        comment='List of dict templated users.',
        order=1
        )
      }}"
    _postgres_cfg_hba_include_dir: "{{ {} | r_pufky.data.v3(
        section='pg_hba.conf',
        key='include_dir',
        raw=postgres_cfg_hba_include_dir,
        default=[],
        hint='list of str',
        order=2
        )
      }}"
    _postgres_cfg_hba_include_if_exists: "{{ {} | r_pufky.data.v3(
        section='pg_hba.conf',
        key='include_if_exists',
        raw=postgres_cfg_hba_include_if_exists,
        default=[],
        hint='list of str',
        order=3
        )
      }}"
    _postgres_cfg_hba_include: "{{ {} | r_pufky.data.v3(
        section='pg_hba.conf',
        key='include',
        raw=postgres_cfg_hba_include,
        default=[],
        hint='list of str',
        order=4
        )
      }}"
    _postgres_cfg_ident: "{{ {} | r_pufky.data.v3(
        section='pg_ident.conf',
        key='ident',
        raw=postgres_cfg_ident,
        default=[],
        hint='list of dict',
        order=1
        )
      }}"
    _postgres_cfg_ident_include_dir: "{{ {} | r_pufky.data.v3(
        section='pg_ident.conf',
        key='include_dir',
        raw=postgres_cfg_ident_include_dir,
        default=[],
        hint='list of str',
        order=2
        )
      }}"
    _postgres_cfg_ident_include_if_exists: "{{ {} | r_pufky.data.v3(
        section='pg_ident.conf',
        key='include_if_exists',
        raw=postgres_cfg_ident_include_if_exists,
        default=[],
        hint='list of str',
        order=3
        )
      }}"
    _postgres_cfg_ident_include: "{{ {} | r_pufky.data.v3(
        section='pg_ident.conf',
        key='include',
        raw=postgres_cfg_ident_include,
        default=[],
        hint='list of str',
        order=4
        )
      }}"
    _postgres_cfg_databases: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases,
        default=[],
        _owner_script=_postgres.scripts ~ '/postgres_owner',
        _perms='0700',
        hint='list of dict',
        order=1
        )
      }}"
    _postgres_cfg_databases_backup_enable: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_enable,
        default=true,
        _backup_script=_postgres.scripts ~ '/postgres_backup',
        _perms='0700',
        hint='bool',
        order=2
        )
      }}"
    _postgres_cfg_databases_backup_all_enable: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_all_enable,
        default=true,
        hint='bool',
        order=3
        )
      }}"
    _postgres_cfg_databases_backup_individual_enable: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_individual_enable,
        default=true,
        hint='bool',
        order=4
        )
      }}"
    _postgres_cfg_databases_backup_dir: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_dir | regex_replace('\\/$', ''),
        default='/var/lib/postgres_backup',
        hint='str',
        order=5
        )
      }}"
    _postgres_cfg_databases_backup_owner: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_owner,
        default='root',
        hint='str',
        order=6
        )
      }}"
    _postgres_cfg_databases_backup_group: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_group,
        default='root',
        hint='str',
        order=7
        )
      }}"
    _postgres_cfg_databases_backup_schedule: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_schedule,
        default='weekly',
        hint='str',
        order=8
        )
      }}"
    _postgres_cfg_databases_backup_options: "{{ {} | r_pufky.data.v3(
        section='databases',
        raw=postgres_cfg_databases_backup_options,
        data=postgres_cfg_databases_backup_options | join(' '),
        default=[
          '--no-owner',
          '--no-privileges',
          '--username=' ~ postgres_srv_user | default('postgres'),
          '--no-password',
          '--host=' ~ postgres_srv_user_connection.login_unix_socket |
            default('localhost'),
          '--port='~ postgres_srv_user_connection.port | default(5432),
        ],
        hint='list of str',
        sensitive=true,
        order=9
        )
      }}"
    _postgres_cfg_users: "{{ {} | r_pufky.data.v3(
        section='users',
        raw=postgres_cfg_users,
        default=[],
        hint='list of dict',
        sensitive=true,
        order=1
        )
      }}"

- name: 'Annotate | update _postgres_srv_user_connection'
  ansible.builtin.set_fact:
    _postgres_srv_user_connection: '{{
        _postgres_srv_user_connection |
          combine({"raw": postgres_srv_user_connection |
              default({"login_host": "localhost",
                     "login_unix_socket":
                          _postgres_cfg_unix_socket_directories.raw[0],
                       "login_user": _postgres_srv_user.raw,
                       "port": _postgres_cfg_port.raw})})
        }}'

- name: 'Annotate | merge template postgres_cfg_hba'
  ansible.builtin.set_fact:
    _postgres_cfg_hba: '{{
        _postgres_cfg_hba |
          combine({"data": _postgres_cfg_hba.data | default([]) +
                 [postgres_role_template_hba | combine(item)]})
      }}'
  loop: '{{ _postgres_cfg_hba.raw }}'
  loop_control:
    label: '{{ item.type }} {{ item.user }}@{{ item.database }}'

- name: 'Annotate | generate required locale list'
  ansible.builtin.set_fact:
    _postgres: '{{
        _postgres |
        combine({"locales":
            (_postgres_cfg_databases.raw |
             map(attribute="lc_collate", default="en_US.UTF-8") | unique +
             _postgres_cfg_databases.raw |
             map(attribute="lc_ctype", default="en_US.UTF-8") | unique +
             [_postgres_cfg_lc_messages.raw] +
             [_postgres_cfg_lc_monetary.raw] +
             [_postgres_cfg_lc_numeric.raw] +
             [_postgres_cfg_lc_time.raw]) | flatten | unique})
      }}'

- name: 'Annotate | generate config map'
  ansible.builtin.set_fact:
    _postgres_map: '{{
        hostvars[inventory_hostname] | dict2items |
        selectattr("key", "match", "_postgres_cfg_*")
      }}'
    _postgres_order:
      - 'postgres.conf'
